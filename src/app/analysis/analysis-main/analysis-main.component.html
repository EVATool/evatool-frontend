<head><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style type="text/css">
    .material-icons.md-48 { font-size: 48px; }
  </style>
</head>

<head><link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <style type="text/css">
    .material-icons.md-48 { font-size: 48px; }
  </style>
</head>

<!--container-->
<!--left-->
<div id="left"><!--left section-->
  <br>
  <div>
    <button mat-raised-button (click)="editTemplates()" class="editButton">Edit Templates</button>
  </div>
  <br>
  <div>
    <button mat-raised-button (click)="openDialog()" class="createAnalysisButton">+ New Analysis</button>
  </div>
</div>

<!--cards-->
<!--right-->
<div id="right"><!--right section-->

  <div class="headertitle">All analysis</div>
  <hr style="width:50%; margin: auto;">
  <div class="content-wrapper">
    <div *ngFor="let analysis of analysisDataService.analysisArray;" class="news-card">
      <img src="{{analysis.image}}" alt="" class="news-card__image">
      <div class="news-card__text-wrapper">
        <div class="dropdown">
          <button class="dropbtn">
            <i class="material-icons settings" tabindex="-1">settings</i>
          </button>
          <div class="dropdown-content">
            <a mat-raised-button class="changeBackgroundImage" (click)="changeBackgroundImage()">Change Background-Image</a>
            <a mat-raised-button class="deleteAnalysis" (click)="deleteAnalysis(analysis)">Delete Analysis</a>
          </div>
        </div>
        <h2 (click)="analysis.editable=!analysis.editable" *ngIf="!analysis.editable" class="news-card__title">{{analysis.title}}</h2>
        <textarea (mouseleave)="save(analysis); " *ngIf="analysis.editable" [(ngModel)]="analysis.title" type ="text" matInput value="{{analysis.title}}" cols="30" rows="10"></textarea>
        <div class="news-card__post-date">Last edit: {{analysis.date|date:"dd.MM.yyyy - hh:mm U'h'r"}}</div>
        <div class="news-card__details-wrapper">
          <p (click)="analysis.editable=!analysis.editable" *ngIf="!analysis.editable" class="news-card__excerpt">{{analysis.description}}</p>
          <textarea (mouseleave)="save(analysis); " *ngIf="analysis.editable" [(ngModel)]="analysis.description" type ="text" matInput value="{{analysis.description}}" cols="30" rows="10"></textarea>
          <button mat-raised-button class="news-card__read-more" (click)="analysisClick(analysis)">Spectate <i class="fas fa-long-arrow-alt-right"></i></button>
          <button mat-raised-button class="news-card__read-more" (click)="openValueDialog(analysis)">Edit Values <i class="fas fa-long-arrow-alt-right"></i></button>
        </div>
      </div>
    </div>
  </div>
</div>

